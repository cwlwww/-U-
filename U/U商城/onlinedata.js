var online = [{
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版数学第一节课程内容讲解',
    src: '../img/online/banner1-2.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shuxue'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-3.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版数学第一节课程内容讲解',
    src: '../img/online/banner1-4.png',
    cont: '人教版',
    time: 22,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shuxue'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-5.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner2-1.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-2.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-5.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: '化学'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner2-1.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-2.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-5.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner2-1.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-2.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: '化学'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: './img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-5.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-1.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版数学第一节课程内容讲解',
    src: '../img/online/banner1-2.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shuxue'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-3.png',
    cont: '人教版',
    time: 23,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版数学第一节课程内容讲解',
    src: '../img/online/banner1-4.png',
    cont: '人教版',
    time: 22,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shuxue'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner1-5.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner2-1.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-2.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-5.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: '化学'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner2-1.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-2.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'huaxue'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: '../img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-5.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版英语第一节课程内容讲解',
    src: '../img/online/banner1-6.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'english'
}, {
    title: '人教版语文第一节课程内容讲解',
    src: '../img/online/banner2-1.png',
    cont: '人教版',
    time: 33,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'yuwen'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-2.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}, {
    title: '人教版化学第一节课程内容讲解',
    src: '../img/online/banner2-3.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: '化学'
}, {
    title: '人教版生物第一节课程内容讲解',
    src: './img/online/banner2-4.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'shengwu'
}, {
    title: '人教版物理第一节课程内容讲解',
    src: '../img/online/banner2-5.png',
    cont: '人教版',
    time: 44,
    isFree: true,
    num: 1100,
    city: 'bj',
    level: 1,
    subject: 'wuli'
}];

var allData = online
var curDate = allData.slice(0, 12);
var page = (allData.length / 12).toFixed(0);
console.log(page);

var tu5 = document.querySelector('#tu5');
var pageli = document.querySelector('#opage');

function fpage(page) {
    pageli.innerHTML = ''
    for (var i = 0; i < page; i++) {
        pageli.innerHTML += '<a href="#">' + (i + 1) + '</a>';
    }
    pagenum[0].className = 'lpage';
}
var pagenum = pageli.getElementsByTagName('a')
fpage(page)


function auto(a) {
    a.forEach(function (item, index) {
        item.free = item.isFree ? '免费' : '收费';
        tu5.innerHTML += '<li><div class="img" style="background:url(' + item.src + ');">' +
            '<p class="bb">' + item.cont + '</p>' +
            '<p class="study">' + item.num + '人正在学习</p></div>' +
            '<p class="mc">' + item.title + '</p>' +
            '<p class="ks">' + item.time + '课时</p>' +
            '<a class="free">' + item.free + '</a>' + '</li>'
    })
}
auto(curDate)
var upbtn = document.getElementById('up');
var nextbtn = document.getElementById('next');

var n = 0;

function setLesson(cur) {
    for (var i = 0; i < page; i++) {
        pagenum[i].className = '';
    }
    pagenum[n].className = 'lpage';
    tu5.innerHTML = '';
    auto(cur)
}

nextbtn.onclick = function () {
    n++;
    if (n >= page) {
        n = page - 1;
    }
    console.log(n);
    curData = allData.slice(12 * n, 12 * (n + 1));
    setLesson(curData);
}
upbtn.onclick = function () {
    n--;
    if (n <= 0) {
        n = 0;
    }
    curData = allData.slice(12 * n, 12 * (n + 1));
    setLesson(curData);
}
function pagebtn() {
    for (var j = 0; j < page; j++) {
        pagenum[j].index = j;
        pagenum[j].onclick = function () {
            curDate = allData.slice(12 * this.index, 12 * (this.index + 1));
            setLesson(curDate);
            for (var i = 0; i < page; i++) {
                pagenum[i].className = '';
            }
            pagenum[this.index].className = 'lpage';
        }
    }
}
pagebtn()
var xuanze = document.getElementById('xuanze');
var a = xuanze.getElementsByTagName('a')

xuanze.onclick = function () {
    allData = online
    var arr = []
    var target = event.target || event.srcElement;
    if (target.tagName == 'A') {
        var reg = new RegExp(target.innerHTML)
        var regtag = new RegExp(target.getAttribute('tag'))
        console.log(regtag);
        for (var i = 0; i < allData.length; i++) {
            if (regtag.test(allData[i].subject) || reg.test(allData[i].cont)) {
                arr.push(allData[i]);
            }
            else if (target.innerHTML == '全部') {
                arr = allData;
            }
        }
        for (var j = 0; j < a.length; j++) {
            a[j].className = '';
        }
        target.className = 'blue';
        console.log(arr);
        curData = arr.slice(0, 12);
        page = (arr.length / 12).toFixed(0);
        if (page > 0) {
            fpage(page);
        }
        else {
            pageli.innerHTML = '<a href="#">1</a>'
        }
        setLesson(curData)
        allData = arr;
        pagebtn()
    }
}